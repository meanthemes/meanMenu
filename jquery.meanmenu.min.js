(function(e){e.fn.meanmenu=function(n){var a={meanMenuTarget:jQuery(this),meanMenuContainer:"body",meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanRevealHoverColour:"",meanScreenWidth:"480",meanNavPush:"",meanShowChildren:!0,meanExpandableChildren:!0,meanExpand:"+",meanContract:"-",meanRemoveAttrs:!1},n=e.extend(a,n);return currentWidth=window.innerWidth||document.documentElement.clientWidth,this.each(function(){function e(){if("center"==s){var e=window.innerWidth||document.documentElement.clientWidth,n=e/2-22+"px";meanRevealPos="left:"+n+";right:auto;",g?jQuery(".meanmenu-reveal").animate({left:n}):jQuery(".meanmenu-reveal").css("left",n)}}function a(){jQuery($navreveal).is(".meanmenu-reveal.meanclose")?$navreveal.html(m):$navreveal.html(o)}function t(){jQuery(".mean-bar,.mean-push").remove(),jQuery(u).removeClass("mean-container"),jQuery(i).show(),menuOn=!1,meanMenuExist=!1}function r(){if(h>=currentWidth){meanMenuExist=!0,jQuery(u).addClass("mean-container"),jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+meanStyles+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var e=jQuery(i).html();jQuery(".mean-nav").html(e),f&&jQuery("nav.mean-nav *").each(function(){jQuery(this).removeAttr("class"),jQuery(this).removeAttr("id")}),jQuery(i).before('<div class="mean-push" />'),jQuery(".mean-push").css("margin-top",d),jQuery(i).hide(),jQuery(".meanmenu-reveal").show(),jQuery(y).html(o),$navreveal=jQuery(y),jQuery(".mean-nav ul").hide(),meanShowChildren?meanExpandableChildren?(jQuery(".mean-nav ul ul").each(function(){jQuery(this).children().length&&jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+l+'">'+j+"</a>")}),jQuery(".mean-expand").on("click",function(e){e.preventDefault(),jQuery(this).hasClass("mean-clicked")?(jQuery(this).text(j),jQuery(this).prev("ul").slideUp(300,function(){})):(jQuery(this).text(Q),jQuery(this).prev("ul").slideDown(300,function(){})),jQuery(this).toggleClass("mean-clicked")})):jQuery(".mean-nav ul ul").show():jQuery(".mean-nav ul ul").hide(),jQuery(".mean-nav ul li").last().addClass("mean-last"),$navreveal.removeClass("meanclose"),jQuery($navreveal).click(function(e){e.preventDefault(),0==menuOn?($navreveal.css("text-align","center"),$navreveal.css("text-indent","0"),$navreveal.css("font-size",l),jQuery(".mean-nav ul:first").slideDown(),menuOn=!0):(jQuery(".mean-nav ul:first").slideUp(),menuOn=!1),$navreveal.toggleClass("meanclose"),a()})}else t()}var i=n.meanMenuTarget,u=n.meanMenuContainer;n.meanReveal;var m=n.meanMenuClose,l=n.meanMenuCloseSize,o=n.meanMenuOpen,s=n.meanRevealPosition,v=n.meanRevealPositionDistance,c=n.meanRevealColour;n.meanRevealHoverColour;var h=n.meanScreenWidth,d=n.meanNavPush,y=".meanmenu-reveal";meanShowChildren=n.meanShowChildren,meanExpandableChildren=n.meanExpandableChildren;var j=n.meanExpand,Q=n.meanContract,f=n.meanRemoveAttrs;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Blackberry/i)||navigator.userAgent.match(/Windows Phone/i))var g=!0;(navigator.userAgent.match(/MSIE 8/i)||navigator.userAgent.match(/MSIE 7/i))&&jQuery("html").css("overflow-y","scroll"),menuOn=!1,meanMenuExist=!1,"right"==s&&(meanRevealPos="right:"+v+";left:auto;"),"left"==s&&(meanRevealPos="left:"+v+";right:auto;"),e(),meanStyles="background:"+c+";color:"+c+";"+meanRevealPos,g||jQuery(window).resize(function(){currentWidth=window.innerWidth||document.documentElement.clientWidth,currentWidth>h?t():t(),h>=currentWidth?(r(),e()):t()}),window.onorientationchange=function(){e(),currentWidth=window.innerWidth||document.documentElement.clientWidth,currentWidth>=h&&t(),h>=currentWidth&&0==meanMenuExist&&r()},r()})}})(jQuery);
